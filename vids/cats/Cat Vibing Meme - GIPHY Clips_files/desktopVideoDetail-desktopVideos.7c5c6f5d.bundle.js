(window.webpackJsonp=window.webpackJsonp||[]).push([["desktopVideoDetail-desktopVideos"],{UsFO:function(n,e,t){"use strict";var i=t("1OyB"),o=t("vuIU"),a=t("Ji7U"),r=t("md7G"),l=t("foSv"),c=t("q1tI"),s=t.n(c),p=t("K32+"),d=t("17x9"),u=t.n(d),f=t("bhEy"),m=t("vOnD");function h(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=Object(l.a)(n);if(e){var o=Object(l.a)(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return Object(r.a)(this,t)}}var g=m.d.div.withConfig({displayName:"text-with-see-more__Container",componentId:"sc-1kw3drh-0"})(["text-align:left;span{",";}"],(function(n){return n.copyCSS})),x=m.d.div.withConfig({displayName:"text-with-see-more__SeeMore",componentId:"sc-1kw3drh-1"})(["",";font-weight:bold;position:relative;font-size:14px;margin-top:8px;color:",";cursor:pointer;",";"],(function(n){return!n.show&&Object(m.c)(["display:none;"])}),f.E.giphyLightestGrey,(function(n){return n.seeMoreCSS})),y=m.d.div.withConfig({displayName:"text-with-see-more__Arrow",componentId:"sc-1kw3drh-2"})(["display:inline-block;font-size:12px;height:11px;padding-bottom:5px;position:absolute;top:2px;margin-left:4px;",";transition:transform 300ms ease-out;"],(function(n){return n.isSeeingMore&&Object(m.c)(["transform:scale(1,-1);top:4px;"])})),b=function(n,e,t){return n=s.a.createElement("span",{key:e},n),e===t.length-1?n:[n,s.a.createElement("br",{key:e+"br"})]},v=function(n){Object(a.a)(t,n);var e=h(t);function t(){var n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))).state={isSeeingMore:!1,hasTruncated:!1},n.onTruncate=function(e){return n.setState({hasTruncated:e})},n.seeMore=function(){var e=n.state.isSeeingMore;n.setState({isSeeingMore:!e})},n}return Object(o.a)(t,[{key:"render",value:function(){var n=this.state,e=n.isSeeingMore,t=n.hasTruncated,i=this.props,o=i.lines,a=i.copy,r=void 0===a?"":a,l=i.className,c=i.copyCSS,d=i.seeMoreCSS;return s.a.createElement(g,{className:l,copyCSS:c},s.a.createElement(p.a,{lines:!e&&o,onTruncate:this.onTruncate},r.split("\n").map(b)),s.a.createElement(x,{onClick:this.seeMore,show:e||t,seeMoreCSS:d},"See ",e?"Less":"More"," ",s.a.createElement(y,{className:"ss-icon ss-navigatedown",isSeeingMore:e})))}}]),t}(c.PureComponent);v.propTypes={lines:u.a.number,copy:u.a.string.isRequired,copyCSS:u.a.array,seeMoreCSS:u.a.array,className:u.a.string},v.defaultProps={lines:3},e.a=v},iMMn:function(n,e,t){"use strict";var i,o,a,r,l,c,s,p,d,u,f,m,h,g,x,y,b,v,w,E,k=t("q1tI"),C=t.n(k),j=t("Ty5D"),S=t("vOnD"),O=t("h24t"),I=t("UsFO"),N=t("bhEy"),z=t("sOFT"),M=t("mnxI"),F=t("bbZa"),T=t("T7dl"),D=t("K7qt"),G=t("9EA8"),L=t("AaR0"),_=t("eHKf"),R=t("F8jT"),A=t("rrFr"),B=t.n(A),P=t("2aXo"),q=t.n(P),J=function(n){var e=n.color;return C.a.createElement("svg",{width:"30",height:"30",viewBox:"-5 -7 32 32",xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("path",{d:"M16.766.693c.106 0 .106 0 .212.085l6.937 6.93.047.065c.038.069.038.069.038.154 0 .127 0 .127-.085.219l-6.937 6.93-.045.04c-.072.051-.072.051-.17.051-.13 0-.13 0-.216-.092l-2.112-2.112-.037-.045c-.048-.072-.048-.072-.048-.17 0-.13 0-.13.085-.216l4.606-4.605-4.606-4.606-.037-.045c-.048-.073-.048-.073-.048-.17 0-.131 0-.131.085-.216L16.547.778 16.62.73c.072-.038.072-.038.147-.038zM7.237.683c.13 0 .13 0 .216.092l2.112 2.112.037.046c.048.072.048.072.048.17 0 .13 0 .13-.085.215l-4.62 4.606 4.62 4.606.037.045c.048.072.048.072.048.17 0 .131 0 .131-.085.216l-2.112 2.112-.072.047c-.072.038-.072.038-.147.038-.106 0-.106 0-.212-.085L.085 8.143l-.047-.065C0 8.008 0 8.008 0 7.924c0-.127 0-.127.085-.219L7.022.775l.045-.04c.072-.052.072-.052.17-.052z",fill:e||"#FFF",fillRule:"evenodd"}))},U=function(n){var e=n.size,t=void 0===e?30:e,i=n.color;return C.a.createElement("svg",{height:t,viewBox:"0 0 115 115",width:t,xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("path",{d:"M28.624 49.45c.195-.194.448-.318.758-.373l10.98-.088a.874.874 0 0 1 .705.265c.197.196.286.43.267.702l-.228 21.87 21.695.11a.874.874 0 0 1 .705.266c.197.196.285.43.267.702l-.258 10.986c-.008.283-.125.537-.35.761-.226.225-.48.34-.765.349l-33.412-.126a.93.93 0 0 1-.713-.274.922.922 0 0 1-.275-.71l.267-33.704c.056-.308.175-.554.357-.736zm58.752 11.1a1.386 1.386 0 0 1-.758.373l-10.98.088a.874.874 0 0 1-.705-.265.866.866 0 0 1-.267-.702l.228-21.87-21.695-.11a.874.874 0 0 1-.705-.266.866.866 0 0 1-.267-.702l.258-10.986c.008-.283.125-.537.35-.761.226-.225.48-.34.765-.349l33.412.126a.93.93 0 0 1 .713.274c.191.19.283.427.275.71l-.267 33.704c-.056.308-.175.554-.357.736z",fill:i||"#FFF",fillRule:"evenodd"}))},V=t("2oVm"),H=t("G2RJ"),K=t("lw06"),Z=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},W=Object(S.e)(i||(i=Z(["\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n"],["\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n"]))),X=S.d.div.withConfig({displayName:"EllipsisContainer",componentId:"sc-1q6mq37"})(o||(o=Z(["\n    width: 28px;\n    height: 36px;\n    position: relative;\n    display: flex;\n    justify-items: center;\n    padding-left: 5px;\n    cursor: pointer;\n"],["\n    width: 28px;\n    height: 36px;\n    position: relative;\n    display: flex;\n    justify-items: center;\n    padding-left: 5px;\n    cursor: pointer;\n"]))),Q=S.d.i.withConfig({displayName:"EllipsisIcon",componentId:"sc-gb1051"})(a||(a=Z(["\n    width: 28px;\n    height: 33px;\n    font-size: 23px;\n    transform: translateZ(0) rotate(90deg);\n"],["\n    width: 28px;\n    height: 33px;\n    font-size: 23px;\n    transform: translateZ(0) rotate(90deg);\n"]))),Y=S.d.ul.withConfig({displayName:"Menu",componentId:"sc-1fra4hz"})(r||(r=Z(["\n    width: ","px;\n    background-color: ",";\n    position: absolute;\n    bottom: 133%;\n    right: -42%;\n    padding: 7px 0px 7px 0px;\n    animation: "," 0.5s ease;\n    z-index: 998;\n    border-bottom: transparent 20px;\n"],["\n    width: ","px;\n    background-color: ",";\n    position: absolute;\n    bottom: 133%;\n    right: -42%;\n    padding: 7px 0px 7px 0px;\n    animation: "," 0.5s ease;\n    z-index: 998;\n    border-bottom: transparent 20px;\n"])),157,z.giphyDarkestGrey,W),$=S.d.div.withConfig({displayName:"MenuIcon",componentId:"sc-1dcnf6k"})(l||(l=Z(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"],["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),nn=S.d.div.withConfig({displayName:"MenuItem",componentId:"sc-vejkwt"})(c||(c=Z(["\n    font-size: 17px;\n    font-weight: bold;\n    display: flex;\n    justify-items: center;\n    align-items: center;\n    color: ",";\n    cursor: pointer;\n    padding: 7px 10px 7px 18px;\n    span {\n        margin-left: 15px;\n    }\n    &:hover {\n        color: #fff;\n        svg * {\n            fill: #fff;\n        }\n    }\n"],["\n    font-size: 17px;\n    font-weight: bold;\n    display: flex;\n    justify-items: center;\n    align-items: center;\n    color: ",";\n    cursor: pointer;\n    padding: 7px 10px 7px 18px;\n    span {\n        margin-left: 15px;\n    }\n    &:hover {\n        color: #fff;\n        svg * {\n            fill: #fff;\n        }\n    }\n"])),z.giphyLightGrey),en=S.d.div.withConfig({displayName:"HoverDiv",componentId:"sc-rsgdz4"})(s||(s=Z(["\n    height: 25px;\n    width: ","px;\n    background-color: transparent;\n    position: absolute;\n    top: -15px;\n    left: -118px;\n"],["\n    height: 25px;\n    width: ","px;\n    background-color: transparent;\n    position: absolute;\n    top: -15px;\n    left: -118px;\n"])),157),tn=S.d.div.withConfig({displayName:"Arrow",componentId:"sc-3pwpee"})(p||(p=Z(["\n    position: absolute;\n    right: 7%;\n    font-size: 14px;\n    bottom: 7px;\n    color: ",";\n    animation: "," 0.5s ease;\n"],["\n    position: absolute;\n    right: 7%;\n    font-size: 14px;\n    bottom: 7px;\n    color: ",";\n    animation: "," 0.5s ease;\n"])),z.giphyDarkestGrey,W),on=S.d.div.withConfig({displayName:"FormModal",componentId:"sc-17xihxv"})(d||(d=Z(["\n    width: 565px;\n    height: 415px;\n    display: flex;\n    justify-content: center;\n    background-color: ",";\n"],["\n    width: 565px;\n    height: 415px;\n    display: flex;\n    justify-content: center;\n    background-color: ",";\n"])),z.giphyDarkestGrey),an=S.d.div.withConfig({displayName:"FormContainer",componentId:"sc-1s91kkt"})(u||(u=Z(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    z-index: ",";\n"],["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    z-index: ",";\n"])),K.a),rn=S.d.div.withConfig({displayName:"Background",componentId:"sc-14t75pl"})(f||(f=Z(["\n    position: absolute;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    background-color: black;\n    opacity: 0.4;\n"],["\n    position: absolute;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    background-color: black;\n    opacity: 0.4;\n"]))),ln=t("4X5D"),cn=function(n,e,t,i){return new(t||(t=Promise))((function(o,a){function r(n){try{c(i.next(n))}catch(n){a(n)}}function l(n){try{c(i.throw(n))}catch(n){a(n)}}function c(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(r,l)}c((i=i.apply(n,e||[])).next())}))},sn=function(n,e){var t,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(n,r)}catch(n){a=[6,n],i=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},pn=Object(_.a)((function(n){var e=n.gif,t=n.csrftoken,i=n.user,o=n.onEdit,a=n.onEmbed,r=Object(k.useContext)(O.a).user,l=(null==r?void 0:r.isStaff)||(null==i?void 0:i.id)===(null==r?void 0:r.id),c=null==r?void 0:r.isStaff,s=Object(k.useContext)(ln.a),p=s.setShowFullscreen,d=s.setIsShare,u=s.setActiveShareTab,f=Object(k.useContext)(R.a).openGifEditPanel,m=Object(k.useState)(!1),h=m[0],g=m[1],x=Object(k.useState)(!1),y=x[0],b=x[1],v=Object(H.b)(e);return C.a.createElement(C.a.Fragment,null,y&&C.a.createElement(an,null,C.a.createElement(rn,{onClick:function(){return b(!1)}}),C.a.createElement(V.a,{gifID:e.id,user:i,csrftoken:t,showButton:!1,isActive:!0,isClip:!0,Modal:on,onFormToggle:function(){return b(!1)}})),C.a.createElement(X,{onMouseEnter:function(){return g(!h)},onMouseLeave:function(){return g(!h)}},C.a.createElement(Q,{className:"ss-ellipsis"}),h&&C.a.createElement(C.a.Fragment,null,C.a.createElement(Y,null,l&&C.a.createElement(nn,{onClick:function(){f(e),o()}},C.a.createElement($,{className:"ss-write",style:{paddingTop:"2px"}}),C.a.createElement("span",null,"Edit")),C.a.createElement(nn,{onClick:function(){a?null==a||a():(d(!0),u("embed"))}},C.a.createElement($,null,C.a.createElement(J,{color:z.giphyLightGrey})),C.a.createElement("span",null,"Embed")),C.a.createElement(nn,{onClick:function(){return p(!0)}},C.a.createElement($,null,C.a.createElement(U,{color:z.giphyLightGrey})),C.a.createElement("span",null,"Expand")),C.a.createElement(nn,{onClick:function(){return b(!0)}},C.a.createElement($,null,C.a.createElement("div",{className:"ss-flag"})),C.a.createElement("span",null,"Report")),!!v&&C.a.createElement(nn,{onClick:function(){Object(F.c)({category:"video_detail",action:"source_click",label:e.id}),window.open(Object(M.a)(v),"_blank")}},C.a.createElement($,{className:"ss-globe"}),C.a.createElement("span",null,"Source")),c&&C.a.createElement(nn,{onClick:function(n){return cn(void 0,void 0,void 0,(function(){var t,i,o,a,r;return sn(this,(function(l){switch(l.label){case 0:return Object(F.c)({category:"video_detail",action:"download_click",label:e.id}),n.preventDefault(),(null===(o=null===(i=e.video)||void 0===i?void 0:i.assets)||void 0===o?void 0:o.source.url)?[4,fetch(null===(r=null===(a=e.video)||void 0===a?void 0:a.assets)||void 0===r?void 0:r.source.url)]:[3,3];case 1:return[4,l.sent().blob()];case 2:t=l.sent(),B()(t,q()(e.title+"-original.mp4")),l.label=3;case 3:return[2]}}))}))}},C.a.createElement($,{className:"ss-download",style:{paddingTop:"2px"}}),C.a.createElement("span",null,"Download"))),C.a.createElement(en,null,C.a.createElement(tn,{className:"ss-dropdown"})))))})),dn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},un=S.d.div.withConfig({displayName:"Container",componentId:"sc-18cfbtm"})(m||(m=dn(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n"]))),fn=Object(S.d)(I.a).withConfig({displayName:"TextWithSeeMore",componentId:"sc-nka5y0"})(h||(h=dn(["\n    font-size: 15px;\n    color: ",";\n    max-width: 550px;\n    margin-bottom: 15px;\n    line-height: 20px;\n"],["\n    font-size: 15px;\n    color: ",";\n    max-width: 550px;\n    margin-bottom: 15px;\n    line-height: 20px;\n"])),z.giphyLightGrey),mn=S.d.div.withConfig({displayName:"AttributionWrapper",componentId:"sc-1tpps8z"})(g||(g=dn(["\n    margin-bottom: 12px;\n"],["\n    margin-bottom: 12px;\n"]))),hn=S.d.div.withConfig({displayName:"Button",componentId:"sc-15zki5p"})(x||(x=dn([""],[""]))),gn=S.d.div.withConfig({displayName:"Buttons",componentId:"sc-1xj1rvt"})(y||(y=dn(["\n    display: flex;\n    padding-top: 2px;\n    // hovering a button dims the others\n    &:hover > "," {\n        opacity: 0.65;\n    }\n    &:hover > ",":hover {\n        opacity: 1;\n    }\n"],["\n    display: flex;\n    padding-top: 2px;\n    // hovering a button dims the others\n    &:hover > "," {\n        opacity: 0.65;\n    }\n    &:hover > ",":hover {\n        opacity: 1;\n    }\n"])),hn,hn),xn=S.d.div.withConfig({displayName:"Title",componentId:"sc-iao044"})(b||(b=dn(["\n    -webkit-font-smoothing: antialiased;\n    font-size: 24px;\n    font-family: interface;\n    font-weight: bold;\n"],["\n    -webkit-font-smoothing: antialiased;\n    font-size: 24px;\n    font-family: interface;\n    font-weight: bold;\n"]))),yn=S.d.div.withConfig({displayName:"TitleLink",componentId:"sc-zk038k"})(v||(v=dn(["\n    cursor: pointer;\n"],["\n    cursor: pointer;\n"]))),bn=S.d.div.withConfig({displayName:"ShareIcon",componentId:"sc-1glwthq"})(w||(w=dn(["\n    margin: 0 10px;\n    display: inline-block;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    font-size: 17px;\n    font-weight: bold;\n    height: 31px;\n    span {\n        margin-right: 10px;\n        font-size: 23px;\n        padding-top: 4px;\n    }\n"],["\n    margin: 0 10px;\n    display: inline-block;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    font-size: 17px;\n    font-weight: bold;\n    height: 31px;\n    span {\n        margin-right: 10px;\n        font-size: 23px;\n        padding-top: 4px;\n    }\n"]))),vn=Object(S.d)(G.a).withConfig({displayName:"FavoriteIcon",componentId:"sc-ytv82y"})(E||(E=dn(["\n    display: flex;\n    align-items: center;\n    margin: 0 28px 0 10px;\n    width: 78px;\n    span {\n        font-weight: bold;\n        font-size: 12px;\n        cursor: pointer;\n        margin-left: -2px;\n        padding-bottom: 2px;\n    }\n    & :nth-child(1) {\n        margin-bottom: 6px;\n    }\n"],["\n    display: flex;\n    align-items: center;\n    margin: 0 28px 0 10px;\n    width: 78px;\n    span {\n        font-weight: bold;\n        font-size: 12px;\n        cursor: pointer;\n        margin-left: -2px;\n        padding-bottom: 2px;\n    }\n    & :nth-child(1) {\n        margin-bottom: 6px;\n    }\n"])));e.a=function(n){var e=n.user,t=n.gif,i=n.shouldLinkToDetail,o=n.onEdit,a=void 0===o?function(){}:o,r=n.onShare,l=n.onEmbed,c=t.video?t.video.description:"",s=Object(M.e)(t.url).pathname,p=Object(j.useHistory)(),d=t.cta||{text:"",link:""},u=d.text,f=d.link,m=t.tags,h=t.id,g=t.url,x=t.title,y=Object(k.useContext)(L.a).onGifFavorite,b=Object(k.useContext)(O.a),v=b.favorites,w=b.addFavorite,E=b.removeFavorite,S=Object(k.useContext)(ln.a),I=S.isShare,z=S.setIsShare,G=-1!==v.indexOf(t.id);return C.a.createElement(C.a.Fragment,null,C.a.createElement(un,null,i?C.a.createElement(yn,{onClick:function(){return p.push(s)}},C.a.createElement(xn,null,x)):C.a.createElement(xn,null,x),C.a.createElement(gn,null,C.a.createElement(hn,null,C.a.createElement(vn,{id:h,url:g,isFavorite:G,scale:1.5,onClick:function(n){G?E(h):(y(n),w(h),Object(F.c)({category:"video_player",action:"favorite",label:h}))},showLabel:!0})),C.a.createElement(hn,null,C.a.createElement(bn,{onClick:function(){r?null==r||r(!0):z(!I)}},C.a.createElement("span",{className:"ss-send"})," Share")),C.a.createElement(hn,null,C.a.createElement(pn,{gif:t,user:e,onEdit:a,onEmbed:l})))),e&&C.a.createElement(mn,null,C.a.createElement(N.b,{user:e,compact:!0,target:"_self"})),c&&C.a.createElement(fn,{copy:c}),!!(null==m?void 0:m.length)&&C.a.createElement(T.a,{tags:m.filter((function(n){return"transparent"!==n})),isSticker:!1}),u&&f&&C.a.createElement(D.a,{onClick:function(n){Object(F.c)({category:"Video detail",action:"CTA Click",label:n})},gif:t}))}}}]);
//# sourceMappingURL=desktopVideoDetail-desktopVideos.7c5c6f5d.bundle.js.map